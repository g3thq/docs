(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{114:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return u}));var n=a(0),b=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,b=function(e,t){if(null==e)return{};var a,n,b={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(b[a]=e[a]);return b}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(b[a]=e[a])}return b}var o=b.a.createContext({}),p=function(e){var t=b.a.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=p(e.components);return b.a.createElement(o.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return b.a.createElement(b.a.Fragment,{},t)}},j=b.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,o=c(e,["components","mdxType","originalType","parentName"]),d=p(a),j=n,u=d["".concat(l,".").concat(j)]||d[j]||s[j]||r;return a?b.a.createElement(u,i(i({ref:t},o),{},{components:a})):b.a.createElement(u,i({ref:t},o))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,l=new Array(r);l[0]=j;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:n,l[1]=i;for(var o=2;o<r;o++)l[o]=a[o];return b.a.createElement.apply(null,l)}return b.a.createElement.apply(null,a)}j.displayName="MDXCreateElement"},115:function(e,t,a){"use strict";function n(e){var t,a,b="";if("string"==typeof e||"number"==typeof e)b+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(b&&(b+=" "),b+=a);else for(t in e)e[t]&&(b&&(b+=" "),b+=t);return b}t.a=function(){for(var e,t,a=0,b="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(b&&(b+=" "),b+=t);return b}},116:function(e,t,a){"use strict";var n=a(0),b=a(117);t.a=function(){var e=Object(n.useContext)(b.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},117:function(e,t,a){"use strict";var n=a(0),b=Object(n.createContext)(void 0);t.a=b},118:function(e,t,a){"use strict";var n=a(0),b=a.n(n),r=a(116),l=a(115),i=a(53),c=a.n(i),o=37,p=39;t.a=function(e){var t=e.lazy,a=e.block,i=e.children,d=e.defaultValue,s=e.values,j=e.groupId,u=e.className,m=Object(r.a)(),O=m.tabGroupChoices,h=m.setTabGroupChoices,N=Object(n.useState)(d),f=N[0],g=N[1];if(null!=j){var v=O[j];null!=v&&v!==f&&s.some((function(e){return e.value===v}))&&g(v)}var y=function(e){g(e),null!=j&&h(j,e)},C=[];return b.a.createElement("div",null,b.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(l.a)("tabs",{"tabs--block":a},u)},s.map((function(e){var t=e.value,a=e.label;return b.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":f===t,className:Object(l.a)("tabs__item",c.a.tabItem,{"tabs__item--active":f===t}),key:t,ref:function(e){return C.push(e)},onKeyDown:function(e){!function(e,t,a){switch(a.keyCode){case p:!function(e,t){var a=e.indexOf(t)+1;e[a]?e[a].focus():e[0].focus()}(e,t);break;case o:!function(e,t){var a=e.indexOf(t)-1;e[a]?e[a].focus():e[e.length-1].focus()}(e,t)}}(C,e.target,e)},onFocus:function(){return y(t)},onClick:function(){y(t)}},a)}))),t?Object(n.cloneElement)(i.filter((function(e){return e.props.value===f}))[0],{className:"margin-vert--md"}):b.a.createElement("div",{className:"margin-vert--md"},i.map((function(e,t){return Object(n.cloneElement)(e,{key:t,hidden:e.props.value!==f})}))))}},119:function(e,t,a){"use strict";var n=a(3),b=a(0),r=a.n(b);t.a=function(e){var t=e.children,a=e.hidden,b=e.className;return r.a.createElement("div",Object(n.a)({role:"tabpanel"},{hidden:a,className:b}),t)}},84:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return o})),a.d(t,"rightToc",(function(){return p})),a.d(t,"default",(function(){return s}));var n=a(3),b=a(7),r=(a(0),a(114)),l=a(118),i=a(119),c={id:"http",title:"HTTP API",sidebar_label:"HTTP API"},o={unversionedId:"drive/http",id:"drive/http",isDocsHomePage:!1,title:"HTTP API",description:"General",source:"@site/docs/drive/HTTP.md",slug:"/drive/http",permalink:"/docs/drive/http",editUrl:"https://github.com/g3thq/docs/tree/master/docs/drive/HTTP.md",version:"current",sidebar_label:"HTTP API"},p=[{value:"General",id:"general",children:[{value:"Root URL",id:"root-url",children:[]},{value:"Auth",id:"auth",children:[]},{value:"File Names And Directories",id:"file-names-and-directories",children:[]}]},{value:"Endpoints",id:"endpoints",children:[{value:"Put File",id:"put-file",children:[]},{value:"Initialize Chunked Upload",id:"initialize-chunked-upload",children:[]},{value:"Upload Chunked Part",id:"upload-chunked-part",children:[]},{value:"End Chunked Upload",id:"end-chunked-upload",children:[]},{value:"Abort Chunked Upload",id:"abort-chunked-upload",children:[]},{value:"Download File",id:"download-file",children:[]},{value:"List Files",id:"list-files",children:[]},{value:"Delete Files",id:"delete-files",children:[]}]}],d={rightToc:p};function s(e){var t=e.components,a=Object(b.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},d,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"general"},"General"),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"You can get your ",Object(r.b)("strong",{parentName:"p"},"Project Key")," and your ",Object(r.b)("strong",{parentName:"p"},"Project ID")," from your ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://web.deta.sh"}),"Deta dashboard"),". You need these to tlak with the Deta Drive API."))),Object(r.b)("h3",{id:"root-url"},"Root URL"),Object(r.b)("p",null,"This URL is the base for all your HTTP requests:"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},Object(r.b)("inlineCode",{parentName:"strong"},"https://drive.deta.sh/v1/{project_id}/{drive_name}"))),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"The ",Object(r.b)("inlineCode",{parentName:"p"},"drive_name")," is the name given to your drive. If you already have a ",Object(r.b)("strong",{parentName:"p"},"Drive"),", then you can go ahead and provide it's name here. Additionally, you could provide any name here when doing any ",Object(r.b)("inlineCode",{parentName:"p"},"PUT")," or ",Object(r.b)("inlineCode",{parentName:"p"},"POST"),' request and our backend will automatically create a new drive for you if it does not exist. There is no limit on how many "Drives" you can create.')),Object(r.b)("h3",{id:"auth"},"Auth"),Object(r.b)("p",null,"A ",Object(r.b)("strong",{parentName:"p"},"Project Key")," ",Object(r.b)("em",{parentName:"p"},"must")," be provided in the request ",Object(r.b)("strong",{parentName:"p"},"headers")," as a value for the ",Object(r.b)("inlineCode",{parentName:"p"},"X-Api-Key")," key for authentication and authorization."),Object(r.b)("p",null,"Example ",Object(r.b)("inlineCode",{parentName:"p"},"X-Api-Key: a0kjsdfjda_thisIsYourSecretKey")),Object(r.b)("h3",{id:"file-names-and-directories"},"File Names And Directories"),Object(r.b)("p",null,"Each file needs a unique ",Object(r.b)("inlineCode",{parentName:"p"},"name")," which identifies the file. Directorial hierarchies are represented logically by the ",Object(r.b)("inlineCode",{parentName:"p"},"name")," of the file itself with the use of backslash ",Object(r.b)("inlineCode",{parentName:"p"},"/"),". "),Object(r.b)("p",null,"For example, if you want to store a file ",Object(r.b)("inlineCode",{parentName:"p"},"world.txt")," under the directory ",Object(r.b)("inlineCode",{parentName:"p"},"hello")," , the ",Object(r.b)("inlineCode",{parentName:"p"},"name")," of the file should be ",Object(r.b)("inlineCode",{parentName:"p"},"hello/world.txt"),".  "),Object(r.b)("p",null,"The file name ",Object(r.b)("strong",{parentName:"p"},"must not")," end with a ",Object(r.b)("inlineCode",{parentName:"p"},"/"),". This also means that you can not create an empty directory."),Object(r.b)("p",null,"A directory ceases to exist if there are no more files in it."),Object(r.b)("h2",{id:"endpoints"},"Endpoints"),Object(r.b)("h3",{id:"put-file"},"Put File"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"POST /files?name={name}")),Object(r.b)("p",null,"Stores a smaller file in a single request. Use this endpoint if the file size is small enough to be sent in a single request. The file is overwritten if the file with given ",Object(r.b)("inlineCode",{parentName:"p"},"name")," already exists."),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"We do not accept payloads larger than 10 Mb on this endpoint. For larger uploads, use chunked uploads."))),Object(r.b)(l.a,{defaultValue:"request",values:[{label:"Request",value:"request"},{label:"Response",value:"response"}],mdxType:"Tabs"},Object(r.b)(i.a,{value:"request",mdxType:"TabItem"},Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Headers"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Required"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"Content-Type")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"No"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The content type of the file. If the content type is not specified, the file ",Object(r.b)("inlineCode",{parentName:"td"},"name")," is used to figure out the content type. Defaults to ",Object(r.b)("inlineCode",{parentName:"td"},"application/octet-stream")," if the content type can not be figured out.")))),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Query Params"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Required"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"name")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The ",Object(r.b)("inlineCode",{parentName:"td"},"name")," of the file. More ",Object(r.b)("a",Object(n.a)({parentName:"td"},{href:"#file-names-and-directories"}),"here"),"."))))),Object(r.b)(i.a,{value:"response",mdxType:"TabItem"},Object(r.b)("h4",{id:"201-created"},Object(r.b)("inlineCode",{parentName:"h4"},"201 Created")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n\n{\n    "name": "file name",\n    "project_id": "deta project id",\n    "drive_name": "deta drive_name"\n}\n')),Object(r.b)("h4",{id:"client-errors"},"Client Errors"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"400 Bad Request")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: "application/json"\n{\n    "errors": [\n        // error messages\n    ]\n}\n')),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"413 Payload Too Large")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-html"}),"Content-Type: text/html\n<h1> 413 - Request Entity Too Large </h1>\n")))),Object(r.b)("h3",{id:"initialize-chunked-upload"},"Initialize Chunked Upload"),Object(r.b)("p",null,"Initializes a chunked file upload. If the file is larger than 10 MB, use this endpoint to initialize a chunked file upload."),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"POST /uploads?name={name}")),Object(r.b)(l.a,{defaultValue:"request",values:[{label:"Request",value:"request"},{label:"Response",value:"response"}],mdxType:"Tabs"},Object(r.b)(i.a,{value:"request",mdxType:"TabItem"},Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Params"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Required"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"name")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The ",Object(r.b)("inlineCode",{parentName:"td"},"name")," of the file. More ",Object(r.b)("a",Object(n.a)({parentName:"td"},{href:"#file-names-and-directories"}),"here"),"."))))),Object(r.b)(i.a,{value:"response",mdxType:"TabItem"},Object(r.b)("h4",{id:"202-accepted"},Object(r.b)("inlineCode",{parentName:"h4"},"202 Accepted")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n\n{\n    "name": "file name",\n    "upload_id": "a unique upload id"\n    "project_id": "deta project id",\n    "drive_name": "deta drive name"\n}\n')),Object(r.b)("h4",{id:"client-errors-1"},"Client Errors"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"400 Bad Request")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n{\n    "errors": [\n        // error messages\n    ]\n}\n')))),Object(r.b)("h3",{id:"upload-chunked-part"},"Upload Chunked Part"),Object(r.b)("p",null,"Uploads a chunked part. "),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"POST /uploads/{upload_id}/parts?name={name}&part={part}")),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Each chunk must be at least 5 Mb and at most 10 Mb. The final chunk can be less than 5 Mb."))),Object(r.b)(l.a,{defaultValue:"request",values:[{label:"Request",value:"request"},{label:"Response",value:"response"}],mdxType:"Tabs"},Object(r.b)(i.a,{value:"request",mdxType:"TabItem"},Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Params"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Required"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"upload_id")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The ",Object(r.b)("inlineCode",{parentName:"td"},"upload_id")," received after ",Object(r.b)("a",Object(n.a)({parentName:"td"},{href:"#initialize-chunked-upload"}),"initiating a chunked upload"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"name")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The ",Object(r.b)("inlineCode",{parentName:"td"},"name")," of the file. More ",Object(r.b)("a",Object(n.a)({parentName:"td"},{href:"#file-names-and-directories"}),"here"),".")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"part")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The chunk part number, start with ",Object(r.b)("inlineCode",{parentName:"td"},"1")))))),Object(r.b)(i.a,{value:"response",mdxType:"TabItem"},Object(r.b)("h4",{id:"200-ok"},Object(r.b)("inlineCode",{parentName:"h4"},"200 Ok")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n\n{\n    "name": "file name",\n    "upload_id": "a unique upload id"\n    "part": 1, // upload part number\n    "project_id": "deta project id",\n    "drive_name": "deta drive name"\n}\n')),Object(r.b)("h4",{id:"client-errors-2"},"Client Errors"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"400 Bad Request")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n{\n    "errors": [\n        // error messages\n    ]\n}\n')),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"404 Not Found")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n{\n    "errors": [\n        // error messages\n    ]\n}\n')),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"413 Payload Too Large")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-html"}),"Content-Type: text/html\n<h1> 413 Request Entity Too Large </h1>\n")))),Object(r.b)("h3",{id:"end-chunked-upload"},"End Chunked Upload"),Object(r.b)("p",null,"End a chunked upload."),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"PATCH /uploads/{upload_id}?name={name}")),Object(r.b)(l.a,{defaultValue:"request",values:[{label:"Request",value:"request"},{label:"Response",value:"response"}],mdxType:"Tabs"},Object(r.b)(i.a,{value:"request",mdxType:"TabItem"},Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Params"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Required"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"upload_id")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The ",Object(r.b)("inlineCode",{parentName:"td"},"upload_id")," received after ",Object(r.b)("a",Object(n.a)({parentName:"td"},{href:"#initialize-chunked-upload"}),"initiating a chunked upload"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"name")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The ",Object(r.b)("inlineCode",{parentName:"td"},"name")," of the file. More ",Object(r.b)("a",Object(n.a)({parentName:"td"},{href:"#file-names-and-directories"}),"here"),"."))))),Object(r.b)(i.a,{value:"response",mdxType:"TabItem"},Object(r.b)("h4",{id:"200-ok-1"},Object(r.b)("inlineCode",{parentName:"h4"},"200 Ok")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n\n{\n    "name": "file name",\n    "upload_id": "a unique upload id"\n    "project_id": "deta project id",\n    "drive_name": "deta drive name"\n}\n')),Object(r.b)("h4",{id:"client-errors-3"},"Client Errors"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"400 Bad Request")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n{\n    "errors": [\n        // error messages\n    ]\n}\n')),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"404 Not Found")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n{\n    "errors": [\n        // error messages\n    ]\n}\n')))),Object(r.b)("h3",{id:"abort-chunked-upload"},"Abort Chunked Upload"),Object(r.b)("p",null,"Aboart a chunked upload."),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"DELETE /uploads/{upload_id}?name={name}")),Object(r.b)(l.a,{defaultValue:"request",values:[{label:"Request",value:"request"},{label:"Response",value:"response"}],mdxType:"Tabs"},Object(r.b)(i.a,{value:"request",mdxType:"TabItem"},Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Params"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Required"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"upload_id")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The ",Object(r.b)("inlineCode",{parentName:"td"},"upload_id")," received after ",Object(r.b)("a",Object(n.a)({parentName:"td"},{href:"#initialize-chunked-upload"}),"initiating a chunked upload"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"name")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The ",Object(r.b)("inlineCode",{parentName:"td"},"name")," of the file. More ",Object(r.b)("a",Object(n.a)({parentName:"td"},{href:"#file-names-and-directories"}),"here"),"."))))),Object(r.b)(i.a,{value:"response",mdxType:"TabItem"},Object(r.b)("h4",{id:"200-ok-2"},Object(r.b)("inlineCode",{parentName:"h4"},"200 Ok")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n\n{\n    "name": "file name",\n    "upload_id": "a unique upload id"\n    "project_id": "deta project id",\n    "drive_name": "deta drive name"\n}\n')),Object(r.b)("h4",{id:"client-errors-4"},"Client Errors"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"400 Bad Request")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n{\n    "errors": [\n        // error messages\n    ]\n}\n')),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"404 Not Found")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n{\n    "errors": [\n        // error messages\n    ]\n}\n')))),Object(r.b)("h3",{id:"download-file"},"Download File"),Object(r.b)("p",null,"Download a file from drive."),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"}," GET /files/download?name={name}")),Object(r.b)(l.a,{defaultValue:"request",values:[{label:"Request",value:"request"},{label:"Response",value:"response"}],mdxType:"Tabs"},Object(r.b)(i.a,{value:"request",mdxType:"TabItem"},Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Params"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Required"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"name")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The ",Object(r.b)("inlineCode",{parentName:"td"},"name")," of the file. More ",Object(r.b)("a",Object(n.a)({parentName:"td"},{href:"#file-names-and-directories"}),"here"),"."))))),Object(r.b)(i.a,{value:"response",mdxType:"TabItem"},Object(r.b)("h4",{id:"200-ok-3"},Object(r.b)("inlineCode",{parentName:"h4"},"200 Ok")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"Accept-Ranges: bytes\nContent-Type: {content_type}\nContent-Length: {content_length}\n{Body}\n")),Object(r.b)("h4",{id:"client-errors-5"},"Client Errors"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"400 Bad Request")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n{\n    "errors": [\n        // error messages\n    ]\n}\n')),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"404 Not Found")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n{\n    "errors": [\n        // error messages\n    ]\n}\n')))),Object(r.b)("h3",{id:"list-files"},"List Files"),Object(r.b)("p",null,"List file names from drive."),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"GET /files?limit={limit}&prefix={prefix}&last={last}")),Object(r.b)(l.a,{defaultValue:"request",values:[{label:"Request",value:"request"},{label:"Response",value:"response"}],mdxType:"Tabs"},Object(r.b)(i.a,{value:"request",mdxType:"TabItem"},Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Params"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Required"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"limit")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"No"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The ",Object(r.b)("inlineCode",{parentName:"td"},"limit")," of number of file names to get, defaults to ",Object(r.b)("inlineCode",{parentName:"td"},"1000"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"prefix")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"No"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The ",Object(r.b)("inlineCode",{parentName:"td"},"prefix")," that each file name must have.")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"last")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"No"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The ",Object(r.b)("inlineCode",{parentName:"td"},"last")," file name seen in a paginated response."))))),Object(r.b)(i.a,{value:"response",mdxType:"TabItem"},Object(r.b)("h4",{id:"200-ok-4"},Object(r.b)("inlineCode",{parentName:"h4"},"200 Ok")),Object(r.b)("p",null,"The response is paginated based on the ",Object(r.b)("inlineCode",{parentName:"p"},"limit")," provided in the request. By default, maximum ",Object(r.b)("inlineCode",{parentName:"p"},"1000")," file names are sent."),Object(r.b)("p",null,"If the response is paginated, the response contains a ",Object(r.b)("inlineCode",{parentName:"p"},"paging")," object with ",Object(r.b)("inlineCode",{parentName:"p"},"size")," and ",Object(r.b)("inlineCode",{parentName:"p"},"last")," keys; ",Object(r.b)("inlineCode",{parentName:"p"},"size")," is the number of file\nnames in the response, and ",Object(r.b)("inlineCode",{parentName:"p"},"last")," is the last file name seen in the response. The value of ",Object(r.b)("inlineCode",{parentName:"p"},"last")," should be used in subsequent\nrequests to continue recieving further pages."),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n\n{\n    "paging": {\n        "size": 1000, // the number of file names in the response\n        "last": "last file name in response"\n    },\n    "names": ["file1", "file2", ...]\n}\n')),Object(r.b)("h4",{id:"client-errors-6"},"Client Errors"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"400 Bad Request")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n{\n    "errors": [\n        // error messages\n    ]\n}\n')),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"404 Not Found")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n{\n    "errors": [\n        // error messages\n    ]\n}\n')))),Object(r.b)("h3",{id:"delete-files"},"Delete Files"),Object(r.b)(l.a,{defaultValue:"request",values:[{label:"Request",value:"request"},{label:"Response",value:"response"}],mdxType:"Tabs"},Object(r.b)(i.a,{value:"request",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: "application/json"\n{\n    "names": ["file_1", "file_2"]\n}\n')),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Params"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Required"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"names")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The ",Object(r.b)("inlineCode",{parentName:"td"},"names")," of the files to delete, maximum ",Object(r.b)("inlineCode",{parentName:"td"},"1000")," file names"))))),Object(r.b)(i.a,{value:"response",mdxType:"TabItem"},Object(r.b)("h4",{id:"200-ok-5"},Object(r.b)("inlineCode",{parentName:"h4"},"200 Ok")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'Content-Type: application/json\n\n{\n    "deleted": ["file_1", "file_2", ...] // deleted file names\n    "failed": {\n        "file_3": "reason why file could not be deleted",\n        "file_4": "reason why file could not be deleted",\n        //...\n    } \n}\n')),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"File names that did not exist will also be under ",Object(r.b)("inlineCode",{parentName:"p"},"deleted"),", ",Object(r.b)("inlineCode",{parentName:"p"},"failed")," will only contain names of files that existed but were not deleted for some reason"))))))}s.isMDXComponent=!0}}]);